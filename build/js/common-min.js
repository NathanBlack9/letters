function changeCursor() { const e = $(".cursor"), o = $(".follower"), l = document.querySelectorAll("a"); let n = 0, s = 0, a = 0, t = 0; TweenMax.to({}, .01, { repeat: -1, onRepeat: () => { n += (a - n) / 8, s += (t - s) / 8, TweenMax.set(o, { css: { left: n - 12, top: s - 12 } }), TweenMax.set(e, { css: { left: a, top: t } }) } }), $(window).mousemove((function (e) { a = e.clientX, t = e.clientY })), l.forEach((l => { l.addEventListener("mouseenter", (function () { e.addClass("active"), o.addClass("active") })), l.addEventListener("mouseleave", (function () { e.removeClass("active"), o.removeClass("active") })) })) } $(document).ready((() => { $(".intro").addClass("_animated") })), changeCursor(), $(document).ready((function () { const e = $(window), o = $(".intro"), l = $(".area"), n = o.outerHeight(!0); var s = new ScrollMagic.Controller; const a = $(".js-scroll-left"), t = $(".js-scroll-right"), r = a[0].scrollHeight, c = t[0].scrollHeight / r; var i = a.scrollTop(), d = (new TimelineMax).fromTo(".js-scroll-left", 1, { x: "-110%" }, { x: "0%", ease: Linear.easeNone }).fromTo(".js-scroll-right", 1, { y: "-100%" }, { y: "0%", ease: Linear.easeNone }), g = new ScrollMagic.Scene({ triggerElement: ".area", triggerHook: "onLeave", duration: "300%" }).addIndicators().setPin(".area").setTween(d).addTo(s); $(window).bind("mousewheel", (function (o) { i = a.scrollTop(), console.log(e.scrollTop() >= n, e.scrollTop() <= n + 2900, 0 == i), e.scrollTop() >= n && e.scrollTop() <= n + 2900 && 0 == i && g.setClassToggle(".area", "animating"), l.hasClass("animating") || (o.originalEvent.wheelDelta / 120 > 0 ? (console.log("scrolling up !"), a.stop().animate({ scrollTop: (i - 200) * c }, 300), t.stop().animate({ scrollTop: i - 200 }, 300)) : (console.log("scrolling down !"), console.log(i), a.stop().animate({ scrollTop: (i + 200) * c }, 300), t.stop().animate({ scrollTop: i + 200 }, 300))) })) }));